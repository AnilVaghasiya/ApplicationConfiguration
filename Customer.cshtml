@{
    ViewBag.Title = "Customer";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="container">
    <div class="row">
        <div id="content" class="col-lg-10 col-sm-11">
            <div ng-controller="ProductCtrl">
                <div id="content" class="col-lg-10 col-sm-11" style="min-height: 899px;">
                    <div ng-controller="ProductCtrl" class="ng-scope">
                        <div class="box-content">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="box">
                                        <div class="box-header">
                                            <h2><i class="fa fa-edit"></i>Product</h2>
                                        </div>
                                        <br>
                                        <div id="myTabContent" class="tab-content">
                                            <ul class="nav nav-tabs" style="padding: 10px 0px 0px 10px;">
                                                <li class="active" id="tab1">
                                                    <a href="#Products" data-toggle="tab">Products</a>
                                                </li>
                                                <li id="tab2" class="">
                                                    <a href="#NewProduct" data-toggle="tab">Add New Product</a>
                                                </li>
                                            </ul>

                                            <div class="tab-pane" id="NewProduct">
                                                <div class="box-content">
                                                    <form role="form" id="form"
                                                          name="form"
                                                          class="form-horizontal ng-pristine ng-invalid ng-invalid-required"
                                                          novalidate=""
                                                          ng-submit="formSubmit()">
                                                        <div class="form-group" ng-class="{ 'has-error' : submitted && form.idUser.$invalid }">
                                                            <div class="row">
                                                                <div class="col-lg-8">
                                                                    <div class="col-lg-4 col-sm-4">
                                                                        <label class="control-label">Select User<span class="red">*</span></label>
                                                                    </div>
                                                                    <div class="col-lg-8 col-sm-8">
                                                                        <select id="idUser" name="idUser" ng-model="model.idUser" class="form-control ng-pristine ng-invalid ng-invalid-required" ng-required="true">
                                                                            <option value="">---Select User---</option>
                                                                            <!-- ngRepeat: o in lstBank -->
                                                                            <option ng-repeat="o in lstUser" value="{{o.id}}">{{o.FirstName}}</option>
                                                                        </select>
                                                                        <p ng-show="submitted && form.idUser.$invalid" class="help-block">Username is required.</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" ng-class="{ 'has-error' : submitted && form.ProductName.$invalid }">
                                                            <div class="row">
                                                                <div class="col-lg-8">
                                                                    <div class="col-lg-4 col-sm-4">
                                                                        <label class="control-label">Product Name <span class="red">*</span></label>
                                                                    </div>
                                                                    <div class="col-lg-8 col-sm-8">
                                                                        <input id="ProductName" name="ProductName" type="text" maxlength="256" class="form-control ng-pristine ng-invalid ng-invalid-required" ng-model="model.ProductName" ng-required="true">
                                                                        <p ng-show="submitted && form.ProductName.$invalid" class="help-block">Product name is required.</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" ng-class="{ 'has-error' : submitted && form.ProductType.$invalid }">
                                                            <div class="row">
                                                                <div class="col-lg-8">
                                                                    <div class="col-lg-4 col-sm-4">
                                                                        <label class="control-label">Product Type <span class="red">*</span></label>
                                                                    </div>
                                                                    <div class="col-lg-8 col-sm-8">
                                                                        <input id="ProductType" name="ProductType" type="text" maxlength="256" class="form-control ng-pristine ng-invalid ng-invalid-required" ng-model="model.ProductType" ng-required="true">
                                                                        <p ng-show="submitted && form.ProductType.$invalid" class="help-block">Product Type is required.</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group" ng-class="{ 'has-error' : submitted && form.Price.$invalid }">
                                                            <div class="row">
                                                                <div class="col-lg-8">
                                                                    <div class="col-lg-4 col-sm-4">
                                                                        <label class="control-label">Price <span class="red">*</span></label>
                                                                    </div>
                                                                    <div class="col-lg-8 col-sm-8">
                                                                        <input id="Price" name="Price" numbers-only type="text" maxlength="256" class="form-control ng-pristine ng-invalid ng-invalid-required" ng-model="model.Price" ng-required="true">
                                                                        <p ng-show="submitted && form.Price.$invalid" class="help-block">Product Price is required.</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <div class="row">
                                                                <div class="col-lg-8">
                                                                    <div class="col-lg-4 col-sm-4">
                                                                        <label class="control-label">Product Image <span class="red">*</span></label>
                                                                    </div>
                                                                    <div class="col-lg-8 col-sm-8">
                                                                        <img ng-show="model.id != null && model.id != ''" ng-src="~/MediaUploads/{{model.ProductImage}}" id="selectMedia" class="img-polaroid ng-hide" style="height:100px;width:100px;border: 2px solid #36a9e1" src="~/MediaUploads/{{model.ProductImage}}">
                                                                        <span class="btn btn-green fileinput-button btn-sm">
                                                                            <i class="fa fa-fw fa-plus"></i>
                                                                            <input type="file" name="file" accept="image/*" @*ng-model="model.ProductImage"*@ onchange="angular.element(this).scope().selectFileforUpload(this.files)" class="ng-pristine ng-valid">
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <br>
                                                        <div class="form-group">
                                                            <div class="row">
                                                                <div class="col-lg-8">
                                                                    <div class="col-lg-4 col-sm-4">
                                                                    </div>
                                                                    <div class="col-lg-8 col-sm-8">
                                                                        <button type="button" class="btn btn-primary" @*ng-disabled="!form.$valid"*@ ng-click="CreateProduct(form,model)">Submit</button>
                                                                        <button type="reset" class="btn" ng-click="Reset()">Cancel</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </form>
                                                    <form id="fileupload" method="POST" enctype="multipart/form-data" class="ng-pristine ng-valid"></form>
                                                </div>
                                            </div>

                                            <div class="tab-pane active" id="Products">
                                                <div class="box-content">
                                                    <form role="form" id="form2" name="form2" class="form-horizontal ng-pristine ng-valid" novalidate="" ng-submit="formSubmit()">
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <div class="box-content">
                                                                    <div class="col-lg-8">
                                                                        <a class="btn btn-primary" href="#" ng-click="AddNewProductTab()">Add New Bank</a>
                                                                    </div>
                                                                    <div class="col-lg-1">
                                                                        <h4>Search:</h4>
                                                                    </div>
                                                                    <div class="col-lg-3">
                                                                        <input id="Search" type="text" maxlength="50" class="form-control ng-pristine ng-valid" ng-model="SearchText5" ng-enter="filter(SearchText5)" ng-focus="filter(SearchText5)" ng-blur="filter(SearchText5)">
                                                                    </div>
                                                                    <br><br>
                                                                    <table class="table table-striped table-bordered table-condensed bootstrap-datatable datatable custom-responsive">
                                                                        <thead>
                                                                            <tr>
                                                                                <th style="width:5%">No</th>
                                                                                <th style="width:12%">Product Image</th>
                                                                                <th style="width:12%">Product Name</th>
                                                                                <th style="width:12%">Product Type</th>
                                                                                <th style="width:12%">Product Price</th>
                                                                                <th style="width:10%">Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr ng-repeat="o in filtered =( lstProducts | filter:searchFilter1:strict) | startFrom:(currentPage-1)*entryLimit | limitTo:entryLimit" class="ng-scope">
                                                                                <td class="ng-binding">{{$index+1}}  </td>
                                                                                <td><img ng-src="~/MediaUploads/{{o.ProductImage}}" class="img-polaroid" style="height:100px;width:100px;border: 2px solid #36a9e1" src="~/MediaUploads/{{o.ProductImage}}"></td>
                                                                                <td> {{o.ProductName}}</td>
                                                                                <td> {{o.ProductType}}</td>
                                                                                <td> {{o.Price}}   </td>
                                                                                <td>
                                                                                    <a href="#" class="btn btn-info" ng-click="FetchBankById(o)" title="Edit" data-rel="tooltip">
                                                                                        <i class="glyphicon glyphicon-pencil"></i>
                                                                                    </a>
                                                                                    <a href="#" class="btn btn-danger" ng-really-message="Are you sure you want to delete Bank?" ng-really-click="DeleteProduct(o.id)" title="Delete" data-rel="tooltip">
                                                                                        <i class="glyphicon glyphicon-trash"></i>
                                                                                    </a>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                    <div class="row show-hide-animation">
                                                                        <div class="col-md-12">
                                                                            <pagination page="currentPage" class="pull-right" max-size="noOfPages" total-items="totalItems" items-per-page="entryLimit" data-boundary-links="true"></pagination>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<div class="clearfix"></div>

<script src="~/app/Controllers/ProductCtrl.js"></script>
